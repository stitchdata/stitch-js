!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.Stitch={})}(this,function(t){"use strict";var p=Object.freeze({BOOTSTRAP:"bootstrap",CLOSED:"closed",CONNECTION_CREATED:"connectionCreated",CONNECTION_UPDATED:"connectionUpdated",ERROR_LOADING_CONNECTION:"errorLoadingConnection",ERROR_LOADING_INTEGRATION_TYPE:"errorLoadingIntegrationType",ERROR_UPGRADING_EPHEMERAL_TOKEN:"errorUpgradingEphemeralToken",INTEGRATION_FLOW_COMPLETED:"integrationFlowCompleted",INTEGRATION_FORM_CLOSE:"integrationFormClose",AUTHORIZE_SUCCESS:"authorizeSuccess",AUTHORIZE_FAILURE:"authorizeFailure"});function e(t,e){return t(e={exports:{}},e.exports),e.exports}var y=e(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),n={}.hasOwnProperty,_=function(t,e){return n.call(t,e)},a=function(t){try{return!!t()}catch(t){return!0}},r=!a(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),O=e(function(t){var e=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=e)}),i=(O.version,function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}),b=function(r,o,t){if(i(r),void 0===o)return r;switch(t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},c=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),h=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},u=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},f=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},l=function(t){return"object"===(void 0===t?"undefined":s(t))?null!==t:"function"==typeof t},v=function(t){if(!l(t))throw TypeError(t+" is not an object!");return t},d=y.document,m=l(d)&&l(d.createElement),E=function(t){return m?d.createElement(t):{}},g=!r&&!a(function(){return 7!=Object.defineProperty(E("div"),"a",{get:function(){return 7}}).a}),S=function(t,e){if(!l(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!l(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!l(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!l(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},w=Object.defineProperty,T={f:r?Object.defineProperty:function(t,e,n){if(v(t),e=S(e,!0),v(n),g)try{return w(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},j=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},P=r?function(t,e,n){return T.f(t,e,j(1,n))}:function(t,e,n){return t[e]=n,t},R="prototype",A=function t(e,n,r){var o,i,c,u=e&t.F,a=e&t.G,s=e&t.S,f=e&t.P,l=e&t.B,p=e&t.W,h=a?O:O[n]||(O[n]={}),d=h[R],v=a?y:s?y[n]:(y[n]||{})[R];for(o in a&&(r=n),r)(i=!u&&v&&void 0!==v[o])&&_(h,o)||(c=i?v[o]:r[o],h[o]=a&&"function"!=typeof v[o]?r[o]:l&&i?b(c,y):p&&v[o]==c?function(r){var t=function(t,e,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(t);case 2:return new r(t,e)}return new r(t,e,n)}return r.apply(this,arguments)};return t[R]=r[R],t}(c):f&&"function"==typeof c?b(Function.call,c):c,f&&((h.virtual||(h.virtual={}))[o]=c,e&t.R&&d&&!d[o]&&P(d,o,c)))};A.F=1,A.G=2,A.S=4,A.P=8,A.B=16,A.W=32,A.U=64,A.R=128;var C,I,N,L=A,F=P,k=0,x=Math.random(),M=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++k+x).toString(36))},D=e(function(t){var n=M("meta"),e=T.f,r=0,o=Object.isExtensible||function(){return!0},i=!a(function(){return o(Object.preventExtensions({}))}),c=function(t){e(t,n,{value:{i:"O"+ ++r,w:{}}})},u=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!l(t))return"symbol"==(void 0===t?"undefined":s(t))?t:("string"==typeof t?"S":"P")+t;if(!_(t,n)){if(!o(t))return"F";if(!e)return"E";c(t)}return t[n].i},getWeak:function(t,e){if(!_(t,n)){if(!o(t))return!0;if(!e)return!1;c(t)}return t[n].w},onFreeze:function(t){return i&&u.NEED&&o(t)&&!_(t,n)&&c(t),t}}}),U=(D.KEY,D.NEED,D.fastKey,D.getWeak,D.onFreeze,e(function(t){var e="__core-js_shared__",n=y[e]||(y[e]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:O.version,mode:"pure",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})})),G=e(function(t){var e=U("wks"),n=y.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:M)("Symbol."+t))}).store=e}),W=T.f,z=G("toStringTag"),H=function(t,e,n){t&&!_(t=n?t:t.prototype,z)&&W(t,z,{configurable:!0,value:e})},Y={f:G},Z=T.f,V={}.toString,K=function(t){return V.call(t).slice(8,-1)},B=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==K(t)?t.split(""):Object(t)},J=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},q=function(t){return B(J(t))},Q=Math.ceil,X=Math.floor,$=function(t){return isNaN(t=+t)?0:(0<t?X:Q)(t)},tt=Math.min,et=function(t){return 0<t?tt($(t),9007199254740991):0},nt=Math.max,rt=Math.min,ot=U("keys"),it=function(t){return ot[t]||(ot[t]=M(t))},ct=(C=!1,function(t,e,n){var r,o,i,c=q(t),u=et(c.length),a=(o=u,(r=$(r=n))<0?nt(r+o,0):rt(r,o));if(C&&e!=e){for(;a<u;)if((i=c[a++])!=i)return!0}else for(;a<u;a++)if((C||a in c)&&c[a]===e)return C||a||0;return!C&&-1}),ut=it("IE_PROTO"),at=function(t,e){var n,r=q(t),o=0,i=[];for(n in r)n!=ut&&_(r,n)&&i.push(n);for(;e.length>o;)_(r,n=e[o++])&&(~ct(i,n)||i.push(n));return i},st="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ft=Object.keys||function(t){return at(t,st)},lt={f:Object.getOwnPropertySymbols},pt={f:{}.propertyIsEnumerable},ht=Array.isArray||function(t){return"Array"==K(t)},dt=r?Object.defineProperties:function(t,e){v(t);for(var n,r=ft(e),o=r.length,i=0;i<o;)T.f(t,n=r[i++],e[n]);return t},vt=y.document,yt=vt&&vt.documentElement,_t=it("IE_PROTO"),Ot=function(){},bt="prototype",mt=function(){var t,e=E("iframe"),n=st.length;for(e.style.display="none",yt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),mt=t.F;n--;)delete mt[bt][st[n]];return mt()},Et=Object.create||function(t,e){var n;return null!==t?(Ot[bt]=v(t),n=new Ot,Ot[bt]=null,n[_t]=t):n=mt(),void 0===e?n:dt(n,e)},gt=st.concat("length","prototype"),St={f:Object.getOwnPropertyNames||function(t){return at(t,gt)}},wt=St.f,Tt={}.toString,jt="object"==("undefined"==typeof window?"undefined":s(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Pt={f:function(t){return jt&&"[object Window]"==Tt.call(t)?function(t){try{return wt(t)}catch(t){return jt.slice()}}(t):wt(q(t))}},Rt=Object.getOwnPropertyDescriptor,At={f:r?Rt:function(t,e){if(t=q(t),e=S(e,!0),g)try{return Rt(t,e)}catch(t){}if(_(t,e))return j(!pt.f.call(t,e),t[e])}},Ct=D.KEY,It=At.f,Nt=T.f,Lt=Pt.f,Ft=y.Symbol,kt=y.JSON,xt=kt&&kt.stringify,Mt="prototype",Dt=G("_hidden"),Ut=G("toPrimitive"),Gt={}.propertyIsEnumerable,Wt=U("symbol-registry"),zt=U("symbols"),Ht=U("op-symbols"),Yt=Object[Mt],Zt="function"==typeof Ft,Vt=y.QObject,Kt=!Vt||!Vt[Mt]||!Vt[Mt].findChild,Bt=r&&a(function(){return 7!=Et(Nt({},"a",{get:function(){return Nt(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=It(Yt,e);r&&delete Yt[e],Nt(t,e,n),r&&t!==Yt&&Nt(Yt,e,r)}:Nt,Jt=function(t){var e=zt[t]=Et(Ft[Mt]);return e._k=t,e},qt=Zt&&"symbol"==s(Ft.iterator)?function(t){return"symbol"==(void 0===t?"undefined":s(t))}:function(t){return t instanceof Ft},Qt=function(t,e,n){return t===Yt&&Qt(Ht,e,n),v(t),e=S(e,!0),v(n),_(zt,e)?(n.enumerable?(_(t,Dt)&&t[Dt][e]&&(t[Dt][e]=!1),n=Et(n,{enumerable:j(0,!1)})):(_(t,Dt)||Nt(t,Dt,j(1,{})),t[Dt][e]=!0),Bt(t,e,n)):Nt(t,e,n)},Xt=function(t,e){v(t);for(var n,r=function(t){var e=ft(t),n=lt.f;if(n)for(var r,o=n(t),i=pt.f,c=0;o.length>c;)i.call(t,r=o[c++])&&e.push(r);return e}(e=q(e)),o=0,i=r.length;o<i;)Qt(t,n=r[o++],e[n]);return t},$t=function(t){var e=Gt.call(this,t=S(t,!0));return!(this===Yt&&_(zt,t)&&!_(Ht,t))&&(!(e||!_(this,t)||!_(zt,t)||_(this,Dt)&&this[Dt][t])||e)},te=function(t,e){if(t=q(t),e=S(e,!0),t!==Yt||!_(zt,e)||_(Ht,e)){var n=It(t,e);return!n||!_(zt,e)||_(t,Dt)&&t[Dt][e]||(n.enumerable=!0),n}},ee=function(t){for(var e,n=Lt(q(t)),r=[],o=0;n.length>o;)_(zt,e=n[o++])||e==Dt||e==Ct||r.push(e);return r},ne=function(t){for(var e,n=t===Yt,r=Lt(n?Ht:q(t)),o=[],i=0;r.length>i;)!_(zt,e=r[i++])||n&&!_(Yt,e)||o.push(zt[e]);return o};Zt||(F((Ft=function(){if(this instanceof Ft)throw TypeError("Symbol is not a constructor!");var n=M(0<arguments.length?arguments[0]:void 0);return r&&Kt&&Bt(Yt,n,{configurable:!0,set:function t(e){this===Yt&&t.call(Ht,e),_(this,Dt)&&_(this[Dt],n)&&(this[Dt][n]=!1),Bt(this,n,j(1,e))}}),Jt(n)})[Mt],"toString",function(){return this._k}),At.f=te,T.f=Qt,St.f=Pt.f=ee,pt.f=$t,lt.f=ne,Y.f=function(t){return Jt(G(t))}),L(L.G+L.W+L.F*!Zt,{Symbol:Ft});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),oe=0;re.length>oe;)G(re[oe++]);for(var ie=ft(G.store),ce=0;ie.length>ce;)I=ie[ce++],void 0,N=O.Symbol||(O.Symbol={}),"_"==I.charAt(0)||I in N||Z(N,I,{value:Y.f(I)});L(L.S+L.F*!Zt,"Symbol",{for:function(t){return _(Wt,t+="")?Wt[t]:Wt[t]=Ft(t)},keyFor:function(t){if(!qt(t))throw TypeError(t+" is not a symbol!");for(var e in Wt)if(Wt[e]===t)return e},useSetter:function(){Kt=!0},useSimple:function(){Kt=!1}}),L(L.S+L.F*!Zt,"Object",{create:function(t,e){return void 0===e?Et(t):Xt(Et(t),e)},defineProperty:Qt,defineProperties:Xt,getOwnPropertyDescriptor:te,getOwnPropertyNames:ee,getOwnPropertySymbols:ne}),kt&&L(L.S+L.F*(!Zt||a(function(){var t=Ft();return"[null]"!=xt([t])||"{}"!=xt({a:t})||"{}"!=xt(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(l(e)||void 0!==t)&&!qt(t))return ht(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!qt(e))return e}),r[1]=e,xt.apply(kt,r)}}),Ft[Mt][Ut]||P(Ft[Mt],Ut,Ft[Mt].valueOf),H(Ft,"Symbol"),H(Math,"Math",!0),H(y.JSON,"JSON",!0),L(L.S,"Object",{create:Et}),L(L.S+L.F*!r,"Object",{defineProperty:T.f}),L(L.S+L.F*!r,"Object",{defineProperties:dt});var ue=function(t,e){var n=(O.Object||{})[t]||Object[t],r={};r[t]=e(n),L(L.S+L.F*a(function(){n(1)}),"Object",r)},ae=At.f;ue("getOwnPropertyDescriptor",function(){return function(t,e){return ae(q(t),e)}});var se=function(t){return Object(J(t))},fe=it("IE_PROTO"),le=Object.prototype,pe=Object.getPrototypeOf||function(t){return t=se(t),_(t,fe)?t[fe]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?le:null};ue("getPrototypeOf",function(){return function(t){return pe(se(t))}}),ue("keys",function(){return function(t){return ft(se(t))}}),ue("getOwnPropertyNames",function(){return Pt.f});var he=D.onFreeze;ue("freeze",function(e){return function(t){return e&&l(t)?e(he(t)):t}});var de=D.onFreeze;ue("seal",function(e){return function(t){return e&&l(t)?e(de(t)):t}});var ve=D.onFreeze;ue("preventExtensions",function(e){return function(t){return e&&l(t)?e(ve(t)):t}}),ue("isFrozen",function(e){return function(t){return!l(t)||!!e&&e(t)}}),ue("isSealed",function(e){return function(t){return!l(t)||!!e&&e(t)}}),ue("isExtensible",function(e){return function(t){return!!l(t)&&(!e||e(t))}});var ye=Object.assign,_e=!ye||a(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=ye({},t)[n]||Object.keys(ye({},e)).join("")!=r})?function(t,e){for(var n=se(t),r=arguments.length,o=1,i=lt.f,c=pt.f;o<r;)for(var u,a=B(arguments[o++]),s=i?ft(a).concat(i(a)):ft(a),f=s.length,l=0;l<f;)c.call(a,u=s[l++])&&(n[u]=a[u]);return n}:ye;L(L.S+L.F,"Object",{assign:_e});var Oe=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};L(L.S,"Object",{is:Oe});var be=function(t,e){if(v(t),!l(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},me={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=b(Function.call,At.f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return be(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:be};L(L.S,"Object",{setPrototypeOf:me.set});var Ee=y.Reflect,ge=Ee&&Ee.ownKeys||function(t){var e=St.f(v(t)),n=lt.f;return n?e.concat(n(t)):e};L(L.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r,o,i,c=q(t),u=At.f,a=ge(c),s={},f=0;a.length>f;)void 0!==(n=u(c,e=a[f++]))&&(i=n,(o=e)in(r=s)?T.f(r,o,j(0,i)):r[o]=i);return s}});var Se=pt.f,we=function(u){return function(t){for(var e,n=q(t),r=ft(n),o=r.length,i=0,c=[];i<o;)Se.call(n,e=r[i++])&&c.push(u?[e,n[e]]:n[e]);return c}},Te=we(!1);L(L.S,"Object",{values:function(t){return Te(t)}});var je=we(!0);L(L.S,"Object",{entries:function(t){return je(t)}});r&&L(L.P+!0,"Object",{__defineGetter__:function(t,e){T.f(se(this),t,{get:i(e),enumerable:!0,configurable:!0})}}),r&&L(L.P+!0,"Object",{__defineSetter__:function(t,e){T.f(se(this),t,{set:i(e),enumerable:!0,configurable:!0})}});var Pe=At.f;r&&L(L.P+!0,"Object",{__lookupGetter__:function(t){var e,n=se(this),r=S(t,!0);do{if(e=Pe(n,r))return e.get}while(n=pe(n))}});var Re=At.f;r&&L(L.P+!0,"Object",{__lookupSetter__:function(t){var e,n=se(this),r=S(t,!0);do{if(e=Re(n,r))return e.set}while(n=pe(n))}}),L(L.S+L.F,"Object",{isObject:l});var Ae=G("toStringTag"),Ce="Arguments"==K(function(){return arguments}()),Ie=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ae))?n:Ce?K(e):"Object"==(r=K(e))&&"function"==typeof e.callee?"Arguments":r};L(L.S+L.F,"Object",{classof:Ie});var Ne=function(t,e){for(var n,r=ge(q(e)),o=r.length,i=0;i<o;)T.f(t,n=r[i++],At.f(e,n));return t};L(L.S+L.F,"Object",{define:Ne}),L(L.S+L.F,"Object",{make:function(t,e){return Ne(Et(t),e)}});var Le=O.Object,Fe=Le.values(p),ke=function(){function n(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};o(this,n),this._childWindow=null,this._initialized=!1,this._context=t,this._subscribers=[],window.addEventListener("message",function(t){t.source===e._childWindow&&e._onMessage(t.data)})}return c(n,[{key:"subscribe",value:function(e){var t=this;return this._subscribers.push(e),function(){t._subscribers=t._subscribers.filter(function(t){return e!=e})}}},{key:"_emit",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=this._subscribers[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){(0,o.value)(t)}}catch(t){n=!0,r=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}},{key:"_pollForChildWindowClosed",value:function(){var t=this;window.setTimeout(function(){t._childWindow&&(t._childWindow.closed?t._windowClosed():t._pollForChildWindowClosed())},1e3)}},{key:"_windowClosed",value:function(){this._childWindow=null,this._initialized=!1,this._emit({type:"closed"})}},{key:"_onMessage",value:function(t){t.type===p.BOOTSTRAP?(this._initialized=!0,this._sendContext()):t.type===p.CLOSED||0<=Fe.indexOf(t.type)&&this._emit(t)}},{key:"_sendContext",value:function(){if(!this._initialized||this._childWindow.closed)return this.initialize();this._context,this._childWindow.postMessage({type:"update",data:this._context},"*")}},{key:"setContext",value:function(t){this._content=t,this._sendContext()}},{key:"initialize",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._context=t,this._childWindow&&this._childWindow.close(),this._initialized=!1,this._childWindow=window.open("https://app.stitchdata.com/v2/js-client"),this._pollForChildWindowClosed()}},{key:"close",value:function(){this._childWindow&&this._childWindow.close()}}]),n}(),xe={},Me={};P(Me,G("iterator"),function(){return this});var De,Ue=G("iterator"),Ge=!([].keys&&"next"in[].keys()),We="values",ze=function(){return this},He=function(t,e,n,r,o,i,c){var u,a,s;a=e,s=r,(u=n).prototype=Et(Me,{next:j(1,s)}),H(u,a+" Iterator");var f,l,p,h=function(t){if(!Ge&&t in _)return _[t];switch(t){case"keys":case We:return function(){return new n(this,t)}}return function(){return new n(this,t)}},d=e+" Iterator",v=o==We,y=!1,_=t.prototype,O=_[Ue]||_["@@iterator"]||o&&_[o],b=O||h(o),m=o?v?h("entries"):b:void 0,E="Array"==e&&_.entries||O;if(E&&(p=pe(E.call(new t)))!==Object.prototype&&p.next&&H(p,d,!0),v&&O&&O.name!==We&&(y=!0,b=function(){return O.call(this)}),c&&(Ge||y||!_[Ue])&&P(_,Ue,b),xe[e]=b,xe[d]=ze,o)if(f={values:v?b:h(We),keys:i?b:h("keys"),entries:m},c)for(l in f)l in _||F(_,l,f[l]);else L(L.P+L.F*(Ge||y),e,f);return f},Ye=(De=!0,function(t,e){var n,r,o=String(J(t)),i=$(e),c=o.length;return i<0||c<=i?De?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===c||(r=o.charCodeAt(i+1))<56320||57343<r?De?o.charAt(i):n:De?o.slice(i,i+2):r-56320+(n-55296<<10)+65536});He(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=Ye(e,n),this._i+=t.length,{value:t,done:!1})});var Ze=function(t,e){return{value:e,done:!!t}};He(Array,"Array",function(t,e){this._t=q(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Ze(1)):Ze(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");xe.Arguments=xe.Array;for(var Ve=G("toStringTag"),Ke="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),Be=0;Be<Ke.length;Be++){var Je=Ke[Be],qe=y[Je],Qe=qe&&qe.prototype;Qe&&!Qe[Ve]&&P(Qe,Ve,Je),xe[Je]=xe.Array}var Xe,$e,tn,en=function(e,t,n,r){try{return r?t(v(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&v(o.call(e)),t}},nn=G("iterator"),rn=Array.prototype,on=G("iterator"),cn=O.getIteratorMethod=function(t){if(null!=t)return t[on]||t["@@iterator"]||xe[Ie(t)]},un=e(function(t){var h={},d={},e=t.exports=function(t,e,n,r,o){var i,c,u,a,s,f=o?function(){return t}:cn(t),l=b(n,r,e?2:1),p=0;if("function"!=typeof f)throw TypeError(t+" is not iterable!");if(void 0===(s=f)||xe.Array!==s&&rn[nn]!==s){for(u=f.call(t);!(c=u.next()).done;)if((a=en(u,l,c.value,e))===h||a===d)return a}else for(i=et(t.length);p<i;p++)if((a=e?l(v(c=t[p])[0],c[1]):l(t[p]))===h||a===d)return a};e.BREAK=h,e.RETURN=d}),an=G("species"),sn=function(t,e){var n,r=v(t).constructor;return void 0===r||null==(n=v(r)[an])?e:i(n)},fn=y.process,ln=y.setImmediate,pn=y.clearImmediate,hn=y.MessageChannel,dn=y.Dispatch,vn=0,yn={},_n="onreadystatechange",On=function(){var t=+this;if(yn.hasOwnProperty(t)){var e=yn[t];delete yn[t],e()}},bn=function(t){On.call(t.data)};ln&&pn||(ln=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return yn[++vn]=function(){!function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}t.apply(n,e)}("function"==typeof t?t:Function(t),e)},Xe(vn),vn},pn=function(t){delete yn[t]},"process"==K(fn)?Xe=function(t){fn.nextTick(b(On,t,1))}:dn&&dn.now?Xe=function(t){dn.now(b(On,t,1))}:hn?(tn=($e=new hn).port2,$e.port1.onmessage=bn,Xe=b(tn.postMessage,tn,1)):y.addEventListener&&"function"==typeof postMessage&&!y.importScripts?(Xe=function(t){y.postMessage(t+"","*")},y.addEventListener("message",bn,!1)):Xe=_n in E("script")?function(t){yt.appendChild(E("script"))[_n]=function(){yt.removeChild(this),On.call(t)}}:function(t){setTimeout(b(On,t,1),0)});var mn={set:ln,clear:pn},En=mn.set,gn=y.MutationObserver||y.WebKitMutationObserver,Sn=y.process,wn=y.Promise,Tn="process"==K(Sn);function jn(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=i(n),this.reject=i(r)}var Pn={f:function(t){return new jn(t)}},Rn=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},An=y.navigator,Cn=An&&An.userAgent||"",In=function(t,e){if(v(t),l(e)&&e.constructor===t)return e;var n=Pn.f(t);return(0,n.resolve)(e),n.promise},Nn=G("species"),Ln=G("iterator"),Fn=!1;try{[7][Ln]().return=function(){Fn=!0}}catch(t){}var kn,xn,Mn,Dn,Un,Gn,Wn=mn.set,zn=function(){var n,r,o,t=function(){var t,e;for(Tn&&(t=Sn.domain)&&t.exit();n;){e=n.fn,n=n.next;try{e()}catch(t){throw n?o():r=void 0,t}}r=void 0,t&&t.enter()};if(Tn)o=function(){Sn.nextTick(t)};else if(!gn||y.navigator&&y.navigator.standalone)if(wn&&wn.resolve){var e=wn.resolve(void 0);o=function(){e.then(t)}}else o=function(){En.call(y,t)};else{var i=!0,c=document.createTextNode("");new gn(t).observe(c,{characterData:!0}),o=function(){c.data=i=!i}}return function(t){var e={fn:t,next:void 0};r&&(r.next=e),n||(n=e,o()),r=e}}(),Hn="Promise",Yn=y.TypeError,Zn=y.process,Vn=Zn&&Zn.versions,Kn=Vn&&Vn.v8||"",Bn=y[Hn],Jn="process"==Ie(Zn),qn=function(){},Qn=xn=Pn.f,Xn=!!function(){try{var t=Bn.resolve(1),e=(t.constructor={})[G("species")]=function(t){t(qn,qn)};return(Jn||"function"==typeof PromiseRejectionEvent)&&t.then(qn)instanceof e&&0!==Kn.indexOf("6.6")&&-1===Cn.indexOf("Chrome/66")}catch(t){}}(),$n=function(t){var e;return!(!l(t)||"function"!=typeof(e=t.then))&&e},tr=function(f,n){if(!f._n){f._n=!0;var r=f._c;zn(function(){for(var a=f._v,s=1==f._s,t=0,e=function(t){var e,n,r,o=s?t.ok:t.fail,i=t.resolve,c=t.reject,u=t.domain;try{o?(s||(2==f._h&&rr(f),f._h=1),!0===o?e=a:(u&&u.enter(),e=o(a),u&&(u.exit(),r=!0)),e===t.promise?c(Yn("Promise-chain cycle")):(n=$n(e))?n.call(e,i,c):i(e)):c(a)}catch(t){u&&!r&&u.exit(),c(t)}};r.length>t;)e(r[t++]);f._c=[],f._n=!1,n&&!f._h&&er(f)})}},er=function(i){Wn.call(y,function(){var t,e,n,r=i._v,o=nr(i);if(o&&(t=Rn(function(){Jn?Zn.emit("unhandledRejection",r,i):(e=y.onunhandledrejection)?e({promise:i,reason:r}):(n=y.console)&&n.error&&n.error("Unhandled promise rejection",r)}),i._h=Jn||nr(i)?2:1),i._a=void 0,o&&t.e)throw t.v})},nr=function(t){return 1!==t._h&&0===(t._a||t._c).length},rr=function(e){Wn.call(y,function(){var t;Jn?Zn.emit("rejectionHandled",e):(t=y.onrejectionhandled)&&t({promise:e,reason:e._v})})},or=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),tr(e,!0))},ir=function t(n){var r,o=this;if(!o._d){o._d=!0,o=o._w||o;try{if(o===n)throw Yn("Promise can't be resolved itself");(r=$n(n))?zn(function(){var e={_w:o,_d:!1};try{r.call(n,b(t,e,1),b(or,e,1))}catch(t){or.call(e,t)}}):(o._v=n,o._s=1,tr(o,!1))}catch(t){or.call({_w:o,_d:!1},t)}}};Xn||(Bn=function(t){!function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!")}(this,Bn,Hn,"_h"),i(t),kn.call(this);try{t(b(ir,this,1),b(or,this,1))}catch(t){or.call(this,t)}},(kn=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,e,n){for(var r in e)n&&t[r]?t[r]=e[r]:P(t,r,e[r]);return t}(Bn.prototype,{then:function(t,e){var n=Qn(sn(this,Bn));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Jn?Zn.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&tr(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),Mn=function(){var t=new kn;this.promise=t,this.resolve=b(ir,t,1),this.reject=b(or,t,1)},Pn.f=Qn=function(t){return t===Bn||t===Dn?new Mn(t):xn(t)}),L(L.G+L.W+L.F*!Xn,{Promise:Bn}),H(Bn,Hn),Gn="function"==typeof O[Un=Hn]?O[Un]:y[Un],r&&Gn&&!Gn[Nn]&&T.f(Gn,Nn,{configurable:!0,get:function(){return this}}),Dn=O[Hn],L(L.S+L.F*!Xn,Hn,{reject:function(t){var e=Qn(this);return(0,e.reject)(t),e.promise}}),L(L.S+!0*L.F,Hn,{resolve:function(t){return In(this===Dn?Bn:this,t)}}),L(L.S+L.F*!(Xn&&function(t,e){if(!e&&!Fn)return!1;var n=!1;try{var r=[7],o=r[Ln]();o.next=function(){return{done:n=!0}},r[Ln]=function(){return o},t(r)}catch(t){}return n}(function(t){Bn.all(t).catch(qn)})),Hn,{all:function(t){var c=this,e=Qn(c),u=e.resolve,a=e.reject,n=Rn(function(){var r=[],o=0,i=1;un(t,!1,function(t){var e=o++,n=!1;r.push(void 0),i++,c.resolve(t).then(function(t){n||(n=!0,r[e]=t,--i||u(r))},a)}),--i||u(r)});return n.e&&a(n.v),e.promise},race:function(t){var e=this,n=Qn(e),r=n.reject,o=Rn(function(){un(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}}),L(L.P+L.R,"Promise",{finally:function(e){var n=sn(this,O.Promise||y.Promise),t="function"==typeof e;return this.then(t?function(t){return In(n,e()).then(function(){return t})}:e,t?function(t){return In(n,e()).then(function(){throw t})}:e)}}),L(L.S,"Promise",{try:function(t){var e=Pn.f(this),n=Rn(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}});var cr=O.Promise,ur={CREATE:"CREATE",EDIT:"EDIT",AUTHORIZE:"AUTHORIZE",ONLY_AUTHORIZE:"ONLY_AUTHORIZE",DISCOVER:"DISCOVER",SELECT_STREAMS:"SELECT_STREAMS"};function ar(t,e){if(!e.type)throw new Error("You must specify `options.type`");return Le.assign(t,{targetState:{name:"app.connections.create",params:{route:e.type}}})}function sr(t,e){return fr(e),Le.assign(t,{targetState:{name:"app.connections.details.edit",params:{id:e.id}}})}function fr(t){if(!t.id)throw new Error("You must specify `options.id`")}function lr(t,e){return fr(e),Le.assign(t,{targetState:{name:"app.connections.details.authorize",params:{id:e.id}}})}function pr(t,e){if(fr(e),!e.discovery_job_name)throw new Error("You must specify `options.discovery_job_name`");return Le.assign(t,{targetState:{name:"app.connections.details.check",params:{id:e.id,check_job_name:e.discovery_job_name}}})}function hr(t,e){return fr(e),Le.assign(t,{targetState:{name:"app.connections.details.fields",params:{id:e.id}}})}var dr=function(t){function n(t){o(this,n);var e=f(this,(n.__proto__||Le.getPrototypeOf(n)).call(this,"Integration with id "+t+" not found."));return e.constructor=n,e}return u(n,t),n}(Error),vr=function(t){function n(t){o(this,n);var e=f(this,(n.__proto__||Le.getPrototypeOf(n)).call(this,'Unknown source type: "'+t+'".'));return e.constructor=n,e}return u(n,t),n}(Error),yr=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Le.getPrototypeOf(e)).call(this,"App closed before reaching end of flow."));return t.constructor=e,t}return u(e,t),e}(Error),_r=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Le.getPrototypeOf(e)).call(this,"Error upgrading ephemeral token."));return t.constructor=e,t}return u(e,t),e}(Error),Or=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Le.getPrototypeOf(e)).call(this,"Error authorizing connection."));return t.constructor=e,t}return u(e,t),e}(Error);function br(i,t){var e,n,r,o,c,u=t.id,a=t.type,s=t.default_streams,f=t.ephemeral_token,l=(e={version:2,hideNav:!0,preventIntegrationFormClose:!0,additionalState:{default_selections:s,ephemeral_token:f}},n=i,r=t,(c=(h(o={},ur.CREATE,ar),h(o,ur.EDIT,sr),h(o,ur.AUTHORIZE,lr),h(o,ur.ONLY_AUTHORIZE,lr),h(o,ur.DISCOVER,pr),h(o,ur.SELECT_STREAMS,hr),o)[n])?c(e,r):e);return new cr(function(e,n){var r=new ke,o=void 0;r.subscribe(function(t){t.type===p.ERROR_LOADING_CONNECTION&&t.data.id===u?(n(new dr(u)),r.close()):t.type===p.ERROR_LOADING_INTEGRATION_TYPE&&a&&t.data.type===a?(n(new vr(a)),r.close()):t.type===p.ERROR_UPGRADING_EPHEMERAL_TOKEN?(n(new _r),r.close()):t.type===p.CLOSED||t.type===p.INTEGRATION_FORM_CLOSE?(o?e(o):n(new yr),r.close()):t.type===p.INTEGRATION_FLOW_COMPLETED&&(a&&t.data.type===a||u&&t.data.id===u)?o=t.data:t.type==p.AUTHORIZE_SUCCESS&&i==ur.ONLY_AUTHORIZE?r.close():t.type==p.AUTHORIZE_FAILURE&&i==ur.ONLY_AUTHORIZE&&(n(new Or),r.close())}),r.initialize(l)})}t.STEPS=ur,t.SourceNotFoundError=dr,t.UnknownSourceTypeError=vr,t.AppClosedPrematurelyError=yr,t.UpgradeEphemeralTokenError=_r,t.AuthorizeFailureError=Or,t.addSource=function(t){return br(ur.CREATE,t)},t.editSource=function(t){return br(ur.EDIT,t)},t.authorizeSource=function(t){return br(ur.AUTHORIZE,t)},t.onlyAuthorizeSource=function(t){return br(ur.ONLY_AUTHORIZE,t)},t.displayDiscoveryOutputForSource=function(t){return br(ur.DISCOVER,t)},t.selectStreamsForSource=function(t){return br(ur.SELECT_STREAMS,t)},Object.defineProperty(t,"__esModule",{value:!0})});
